!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=new function(t,e,i,n){this.c=document.getElementById(t),this.ctx=this.c.getContext("2d"),this.s_height=n||window.innerHeight*e,this.s_width=i||window.innerHeight*e,this.c.setAttribute("width",this.s_width),this.c.setAttribute("height",this.s_height),this.padding=.8,this.sizeB=30,this.mark={" ":"#97cef6",_:"#458dc2",x:"#70bc77"},this.creaveLvl=function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++);},this.drawEl=function(t,e,i,n){this.ctx.beginPath(),this.ctx.fillStyle=i.bgColor;var o=this.s_width/this.lemMap;if(this.ctx.fillRect(e*o+4.5*this.padding,t*o+4.5*this.padding,o*this.padding,o*this.padding),0!=n){this.ctx.font=o/1.5+"px Arial",this.ctx.fillStyle="#2b2b2b";var s=e*o+this.lemMap,r=t*o+this.lemMap;this.ctx.fillText(n.t,s,r+o/2)}},this.render=function(t){this.ctx.clearRect(0,0,this.c.width,this.c.height),this.lemMap=t[0].length;for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++){var n={},o={};" "===t[e][i]||"_"===t[e][i]||"x"===t[e][i]?(n.bgColor=this.mark[t[e][i]],o=!1):(n.bgColor="#eaf2f2",o.t=t[e][i]),this.drawEl(e,i,n,o)}}}("canvas",.6),o=[[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "," "," "],[" "," "," "," "," ","1"," ","8"," "," "],[" "," ","3","4","4","1","5"," "," "," "],[" "," ","8","1","3","8","5"," "," "," "],[" ","1","2","9","x","5","4"," ","8"," "],[" "," ","3","3","1","8","3"," "," "," "],[" "," ","5","5","9","7","9"," "," "," "],[" "," ","8","4","4","8","9"," "," "," "],["1"," "," "," "," "," "," "," "," "," "]],s=(n.creaveLvl(o),new function(){this.hp=9,this.face="#",this.pos={x:0,y:0},this.update=function(t){t[this.pos.y][this.pos.x]=this.hp},this.clear=function(t){t[this.pos.y][this.pos.x]=" "},this.wall=function(t){var e=this.pos.x,i=this.pos.y;if(console.log(e),-1===e||e===t[0].length||-1===i||i===t.length)return console.log("wall"),!0},this.hpInfo=function(){return(this.hp<0||0===this.hp)&&(alert("Конец игры"),!0)},this.collision=function(t){var e=this.pos.x,i=this.pos.y;" "!=t[i][e]&&"_"!=t[i][e]&&"x"!=t[i][e]?(console.log(t[e][i]),this.hp-=t[i][e]):"x"===t[i][e]&&alert("Конец игры")}});s.update(o),n.render(o),document.addEventListener("keydown",function(t){var e={x:s.pos.x,y:s.pos.y};s.clear(o),39==t.keyCode?s.pos.x+=1:37==t.keyCode?s.pos.x-=1:40==t.keyCode?s.pos.y+=1:38==t.keyCode&&(s.pos.y-=1);!0===s.wall(o)&&(s.pos=e);s.collision(o),s.hpInfo();s.update(o),n.render(o)},!1)}]);